<section>
	
	<h1>Assets</h1>
	<br/><br/>

	<div class='row' id='asset-controls'>
		<div class='col-md-8'>
	    <div class="input-group">
	      <input type="text" class="form-control" ng-model='searchTerm' placeholder="Search for...">
	      <span class="input-group-btn">
	        <button class="btn btn-default" ng-click='assets.setFilter(searchTerm)'>Search</button>
	      </span>
	    </div>
	  </div>

	  <div class='col-md-4'>
			<div class="btn-group pull-right">
			  <button class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" 
			  				aria-expanded="false">Type<span class="caret"></span></button>
			  <ul class="dropdown-menu">
			  	<li ng-click='assets.setFilter()'><a href=''>All</a></li>
			    <li ng-repeat='type in assets.types' ng-click='assets.setFilter(type)'><a href='' class='capitalise'>{{type}}</a></li>
			  </ul>
			</div>
			<button class='btn btn-default pull-right'  ng-click='assets.sortZA()'>Z-A</button>
			<button class='btn btn-default pull-right'  ng-click='assets.sortAZ()'>A-Z</button>
		</div>
	</div>
	<br/>

	<table class='table table-striped table-borders'>
		<thead>
			<tr>
				<th class='text-center'>Name</th>
				<th class='text-center'>Description</th>
				<th class='text-center'>Type</th>
				<th class='text-center'>Qty</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat='asset in assets.all | filter: assets.filter'>
				<td class='text-center capitalise'>
					<span editable-text='asset.name' e-name='name' e-form='rowform' e-required>{{asset.name}}</span>
				</td>
				<td class='capitalise'>
					<span editable-text='asset.description' e-name='description' e-form='rowform' e-required>{{asset.description}}</span>
				</td>
				<td class='text-center capitalise'>
					<span editable-text='asset.type' e-name='type' e-form='rowform' e-required>{{asset.type}}</span>
				</td>
				<td class='text-center'>
					<span editable-text='asset.qty' e-name='qty' e-form='rowform' e-required>{{asset.qty}}
				</td>

	      <td style="white-space: nowrap">
	        <form editable-form name="rowform"
	        			onaftersave="assets.update(asset.id, $data)"
	       				ng-show="rowform.$visible"
				        class="form-buttons form-inline"
				        shown="inserted == asset">
		        <button type="submit" class="btn btn-primary">Save</button>
		        <button type="button" ng-click="rowform.$cancel()" class="btn btn-default">Cancel</button>
		      </form>

		      <div ng-show="!rowform.$visible">
		      	<button class='btn btn-primary' ng-click='rowform.$show()'>
							<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
						</button>
		        <button class='btn btn-danger' ng-click='assets.delete(asset.id)'>
							<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
						</button>
	      	</div>
	    	</td>

			</tr>
		</tbody>	
	</table>

</section>
